# 数据库课程设计需求分析报告

## 1. 项目背景和目标

### 1.1 项目名称
大学课程注册与成绩管理数据库系统 (University Course Registration and Grade Management Database System)

### 1.2 项目背景
该系统是一个核心的教务管理平台，用于集中管理学生记录、课程信息、选课注册和学术成绩。系统旨在为学生提供完整的数据库生命周期实践经验，包括需求分析、数据建模、模式设计、SQL开发、事务与并发控制、索引优化和简单的应用集成。

### 1.3 项目目标
- 建立一个完整的大学教务管理数据库系统
- 实现学生选课、成绩管理、先修课程验证等核心功能
- 强化数据库设计的关键概念：完整性约束、查询优化
- 实现现实世界的业务规则：先修课程要求、容量限制、时间冲突检查
- 确保系统的安全性和并发正确性
- 提供适合大学系统部署的文档和工件

## 2. 功能需求分析

### 2.1 用户角色及权限

#### 2.1.1 学生用户
- **账户管理**：注册唯一账户
- **信息查询**：查询个人课程注册信息和已完成课程成绩
- **信息维护**：更新联系信息，修改选课信息
- **选课功能**：注册课程，提交重修申请
- **限制**：不能修改成绩记录

#### 2.1.2 教师用户
- **账户管理**：注册账户（需管理员审批）
- **信息维护**：更新个人信息
- **成绩管理**：录入和维护所教课程的期末成绩
- **限制**：不能更改所属院系

#### 2.1.3 教务管理员
- **系统维护**：维护和更新系统基础数据（院系、课程、学期、教师归属、学生注册状态等）
- **审批管理**：审批账户注册申请
- **课程管理**：设置课程容量和先修课程要求
- **数据统计**：提供成绩统计功能

### 2.2 核心业务功能

#### 2.2.1 选课注册功能
- 学生选课注册
- 时间冲突检查
- 学分限制验证（10-40学分）
- 先修课程验证
- 课程容量检查
- 重修申请处理

#### 2.2.2 成绩管理功能
- 自动计算和显示学生期末成绩和GPA
- 成绩统计功能（课程通过率、GPA分布）
- 成绩查询和导出

#### 2.2.3 其他常规功能
- 培养方案查询
- 成绩单导出
- 先修课程验证
- 学生已完成课程列表查询

## 3. 数据需求分析

### 3.1 核心实体及属性

#### 3.1.1 学生 (Student)
- 学生ID（唯一标识）
- 姓名
- 性别
- 出生日期
- 联系信息
- 所属学院
- 专业

#### 3.1.2 课程 (Course)
- 课程ID（唯一标识）
- 课程名称
- 学分值
- 所属院系
- 课程类型（通识必修、专业必修、专业选修、全校选修、实践课程等）

#### 3.1.3 课程班次 (Section)
- 班次ID
- 关联课程ID
- 学期信息
- 授课教师
- 最大注册容量
- 上课时间段

#### 3.1.4 教师 (Instructor)
- 教师ID（唯一标识）
- 姓名
- 所属院系
- 联系信息
- 其他个人信息

#### 3.1.5 注册记录 (Enrollment)
- 学生ID
- 课程班次ID
- 注册状态（注册中、已退课、通过、不及格等）
- 期末成绩（数字/字母）
- 该课程获得的绩点

#### 3.1.6 先修课程 (CoursePrereq)
- 课程代码
- 先修课程代码
- 要求的最低通过成绩

### 3.2 实体关系
- 学生与注册记录：一对多
- 课程与课程班次：一对多
- 教师与课程班次：一对多（但同一时间段只能教一门课）
- 课程与先修课程：多对多
- 学生与课程班次：多对多（通过注册记录）

## 4. 性能和约束要求

### 4.1 业务约束
- **时间冲突约束**：学生选课时间不能冲突，教师同一时间段只能教一门课
- **学分约束**：学生每学期计划学分必须在10-40学分之间
- **先修课程约束**：必须完成先修课程且达到最低成绩要求
- **容量约束**：课程班次注册人数不能超过最大容量
- **重修约束**：已通过课程的重修需要管理员审批

### 4.2 数据完整性约束
- 实体完整性：所有主键非空且唯一
- 参照完整性：外键约束确保数据一致性
- 域完整性：数据类型、格式、取值范围约束
- 用户定义完整性：业务规则约束

### 4.3 并发控制要求
- 支持多用户同时访问
- 确保选课过程中的数据一致性
- 防止超额注册等并发问题

### 4.4 安全性要求
- 用户身份验证和授权
- 数据访问权限控制
- 敏感信息保护

## 5. 技术要求

### 5.1 数据库系统
- 支持的数据库：SQL Server、Oracle、SQLite等
- 推荐使用：MySQL（基于项目要求）

### 5.2 开发语言
- 支持的语言：Python、Java、HTML5、PHP等
- 推荐使用：Python（基于项目要求）

### 5.3 系统架构要求
- 支持事务处理
- 支持索引优化
- 支持查询优化
- 基本的应用集成能力

### 5.4 测试要求
- 生成测试数据覆盖各种边界情况
- 测试场景包括：
  - 学生课程时间冲突
  - 教师时间冲突
  - 未满足先修课程要求
  - 课程容量限制
  - 学分限制验证

## 6. 交付物要求

### 6.1 必需文档
- 程序手册和源代码
- 数据库设计文档（包含E-R图和规范说明）
- SQL命令文档（建表、查询、更新等）

### 6.2 开发建议
- 可参考计算机科学与工程学院的课程/学位计划生成样本数据
- 可扩展额外功能以开发更完整的系统
- 支持小组合作（最多4人），需明确个人贡献

### 6.3 项目时间线
- 截止日期：2025年12月6日
- 提交方式：国际学生通过班长提交，中国学生提交至教学在线系统

## 7. 风险分析与建议

### 7.1 潜在风险
- 数据库设计复杂性可能导致性能问题
- 业务规则实现的复杂性
- 并发控制的技术挑战
- 测试数据生成的完整性

### 7.2 建议
- 采用规范化的数据库设计方法
- 实现分阶段开发和测试
- 重点关注核心功能的稳定性
- 充分测试各种边界条件和异常情况

## 8. 扩展功能建议

### 8.1 可选扩展功能
- 在线选课界面优化
- 移动端支持
- 邮件通知系统
- 课程评价系统
- 学习进度跟踪
- 智能课程推荐

### 8.2 技术扩展
- 数据备份和恢复机制
- 系统监控和日志记录
- API接口设计
- 缓存机制优化

---

*本需求分析报告将作为后续数据库设计、实现和测试的基础文档。*